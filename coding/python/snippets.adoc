# image:icon_python.svg["PYTHON", width=64px] Python::snippets
:toc:

## Main program structure

[source,python]
----
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import argparse
import logging
import sys
logger = logging.getLogger(__name__)
logger.addHandler(logging.StreamHandler(sys.stdout))


def main():
    try:
        parser = argparse.ArgumentParser(description='Description of the program.')
        parser.add_argument('-v', '--verbose', action='count', default=0, help='verbosity level')
        parser.add_argument('-d', '--debug', action='store_true', default=False, help='raise exceptions')
        parser.add_argument('-i', '--input', nargs='+', required=True, help='input')
        parser.add_argument('-o', '--output', default='', help='input')
        args = parser.parse_args()

        if args.verbose:
            logger.setLevel(logging.INFO)
        if args.verbose > 1:
            logger.setLevel(logging.DEBUG)

        #########################
        # place your code here #
        ########################

    except Exception as e:
        logger.critical(e)
        if args.debug:
            raise


if __name__ == '__main__':
    main()
----

## Find first element in a sequence that matches a predicate
-- from: link:https://stackoverflow.com/questions/8534256/find-first-element-in-a-sequence-that-matches-a-predicate[stackoverflow]

.finding first
[source,python]
----
next((x for x in range(10) if x > 3), 'not found')
# will return 4
----

will return the first number from 0 to 10 above 3, ie 4.

.not finding
[source,python]
----
next((x for x in range(10) if x > 10), 'not found')
# will return 'not found'
----

there is no number above `10` in `range(10)`, returns `"not found"` in that case.



## List files
see link:path.adoc#list[path]

## check a variable exists

|================================================================================
| local                  | global                  | attribute of an object
| `'myVar' in locals()`  | `'myVar' in globals()`  | `hasattr(obj, 'attr_name')`
|================================================================================
