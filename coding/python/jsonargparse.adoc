= image:icon_python.svg["PYTHON", width=64px] Python::jsonargparse
:toc:

== CLI usage


jsonargparse is a library for creating command-line interfaces (CLIs) 
and making Python apps easily configurable. I prefer this to the
famous `argparse` module, because it has more advanced features
(loading config files, auto create, ...) while keeping simple usage.

== Using `CLI`

Creates "greetings.py" with :

.greetings.py
[source,python]
----
def greetings(name: str):  # your main parameters and logic here
    print(f'Hello, {name}')


def main():
    # Automatically add all arguments from greetings parameters
    CLI(greetings)


if __name__ == '__main__':
    main()
----

Use it as follows:

.$>sh
[source,bash]
----
$> python ./greetings.py --name Friend
Hello, Friend
----



== Using `add_function_arguments`

Creates "greetings.py" with :

.greetings.py
[source,python]
----
from jsonargparse import CLI, ArgumentParser


def greetings(name: str):  # your main parameters and logic here
    print(f'Hello, {name}')


def main():
    parser = ArgumentParser()
    # Automatically add all arguments from greetings parameters
    parser.add_function_arguments(greetings)
    parser.add_argument('-n', dest='name', default=argparse.SUPPRESS, helps='alias for name')
    # SUPPRESS means: If this flag isn’t used, pretend it doesn’t exist
    # Parse args and call function
    args = parser.parse_args()
    greetings(**vars(args))


if __name__ == '__main__':
    main()
----

Use it as follows:

.$>sh
[source,bash]
----
$> python ./greetings.py -n Friend
Hello, Friend
----

